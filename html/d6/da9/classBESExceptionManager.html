<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>bes: BESExceptionManager Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">bes
   &#160;<span id="projectnumber">Updated for version 3.19.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d6/da9/classBESExceptionManager.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="../../d4/d77/classBESExceptionManager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">BESExceptionManager Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>manages exception handling code and default exceptions  
 <a href="../../d6/da9/classBESExceptionManager.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../da/dbd/BESExceptionManager_8h_source.html">BESExceptionManager.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for BESExceptionManager:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d39/classBESExceptionManager__inherit__graph.png" border="0" usemap="#BESExceptionManager_inherit__map" alt="Inheritance graph"/></div>
<map name="BESExceptionManager_inherit__map" id="BESExceptionManager_inherit__map">
<area shape="rect" id="node2" href="../../d9/d76/classBESObj.html" title="Base object for bes objects. " alt="" coords="51,5,148,97"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af5550b95de8da8a8cae3eb3b46112a35"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/da9/classBESExceptionManager.html#af5550b95de8da8a8cae3eb3b46112a35">add_ehm_callback</a> (p_bes_ehm ehm)</td></tr>
<tr class="memdesc:af5550b95de8da8a8cae3eb3b46112a35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register an exception handler with the manager.  <a href="#af5550b95de8da8a8cae3eb3b46112a35">More...</a><br /></td></tr>
<tr class="separator:af5550b95de8da8a8cae3eb3b46112a35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac83628ed09e68494605cfb6f55a50248"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/da9/classBESExceptionManager.html#ac83628ed09e68494605cfb6f55a50248">dump</a> (ostream &amp;strm) const </td></tr>
<tr class="memdesc:ac83628ed09e68494605cfb6f55a50248"><td class="mdescLeft">&#160;</td><td class="mdescRight">dumps information about this object  <a href="#ac83628ed09e68494605cfb6f55a50248">More...</a><br /></td></tr>
<tr class="separator:ac83628ed09e68494605cfb6f55a50248"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc193739eb7418cf48ed004fda665d9d"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/da9/classBESExceptionManager.html#adc193739eb7418cf48ed004fda665d9d">handle_exception</a> (<a class="el" href="../../d7/dbd/classBESError.html">BESError</a> &amp;e, <a class="el" href="../../dd/da4/classBESDataHandlerInterface.html">BESDataHandlerInterface</a> &amp;dhi)</td></tr>
<tr class="memdesc:adc193739eb7418cf48ed004fda665d9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Manage any exceptions thrown during the handling of a request.  <a href="#adc193739eb7418cf48ed004fda665d9d">More...</a><br /></td></tr>
<tr class="separator:adc193739eb7418cf48ed004fda665d9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a279203dd80e3116315ea5a6ce71ac0dc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a279203dd80e3116315ea5a6ce71ac0dc"></a>
static <a class="el" href="../../d6/da9/classBESExceptionManager.html">BESExceptionManager</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>TheEHM</b> ()</td></tr>
<tr class="separator:a279203dd80e3116315ea5a6ce71ac0dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>manages exception handling code and default exceptions </p>
<p>The <a class="el" href="../../d6/da9/classBESExceptionManager.html" title="manages exception handling code and default exceptions ">BESExceptionManager</a>, a singleton, manages exceptions that are thrown during the handling of a request. Exceptions are handled by creating error informational objects and/or handling the exception and continuing.</p>
<p>If an error informational object is created then assign the new informational object to <a class="el" href="../../dd/da4/classBESDataHandlerInterface.html#ae8bedcac116b75e5364951197cf3174a" title="error information object ">BESDataHandlerInterface.error_info</a> variable.</p>
<p>No error information should be transmitted during the handling of the exception as we give the server code a chance to react to an exception before the exception information is sent.</p>
<p>The exception information is sent during the transmit of a response. An exception is handled just like any other response in terms of being transmitted.</p>
<p>Modules have a chance of registering exception handlers to the manager to be able to handle exceptions differently, or handle specific exceptions in a specific way. Exception handling functions are registered with the following signature:</p>
<p>int function_name( BESError &amp;e, BESDataHandlerInterface &amp;dhi ) ;</p>
<p>If the registered functioon does not handle the exception then the function should return BES_EXECUTED_OK0. If it does handle the exception, return a status code representative of the exception. Currently registered status returns can be found in <a class="el" href="../../d6/dcf/BESError_8h_source.html">BESError.h</a></p>
<p>If no handler can handle the exception then the default is to create a <a class="el" href="../../d8/d47/classBESInfo.html" title="informational response object ">BESInfo</a> object with the given exception.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d7/dbd/classBESError.html" title="Abstract exception class for the BES with basic string message. ">BESError</a> </dd></dl>

<p>Definition at line <a class="el" href="../../da/dbd/BESExceptionManager_8h_source.html#l00084">84</a> of file <a class="el" href="../../da/dbd/BESExceptionManager_8h_source.html">BESExceptionManager.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="af5550b95de8da8a8cae3eb3b46112a35"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BESExceptionManager::add_ehm_callback </td>
          <td>(</td>
          <td class="paramtype">p_bes_ehm&#160;</td>
          <td class="paramname"><em>ehm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Register an exception handler with the manager. </p>
<p>Signature of the function is as follows:</p>
<p>int function_name( BESError &amp;e, BESDataHandlerInterface &amp;dhi ) ;</p>
<p>If the handler does not handle the exception then it should return 0. Otherwise, return a status code. Pre-defined status codes can be found in <a class="el" href="../../d6/dcf/BESError_8h_source.html">BESError.h</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ehm</td><td>exception handler function </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d7/dbd/classBESError.html" title="Abstract exception class for the BES with basic string message. ">BESError</a> </dd></dl>

<p>Definition at line <a class="el" href="../../d2/d20/BESExceptionManager_8cc_source.html#l00069">69</a> of file <a class="el" href="../../d2/d20/BESExceptionManager_8cc_source.html">BESExceptionManager.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ac83628ed09e68494605cfb6f55a50248"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BESExceptionManager::dump </td>
          <td>(</td>
          <td class="paramtype">ostream &amp;&#160;</td>
          <td class="paramname"><em>strm</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>dumps information about this object </p>
<p>Displays the pointer value of this instance along with the number of registered exception handler callbacks. Currently there is no way of telling what callbacks are registered, as no names are passed to the add method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">strm</td><td>C++ i/o stream to dump the information to </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../d9/d76/classBESObj.html#a824f67aad3882f72bb52abf9967584ed">BESObj</a>.</p>

<p>Definition at line <a class="el" href="../../d2/d20/BESExceptionManager_8cc_source.html#l00217">217</a> of file <a class="el" href="../../d2/d20/BESExceptionManager_8cc_source.html">BESExceptionManager.cc</a>.</p>

</div>
</div>
<a class="anchor" id="adc193739eb7418cf48ed004fda665d9d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int BESExceptionManager::handle_exception </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/dbd/classBESError.html">BESError</a> &amp;&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/da4/classBESDataHandlerInterface.html">BESDataHandlerInterface</a> &amp;&#160;</td>
          <td class="paramname"><em>dhi</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Manage any exceptions thrown during the handling of a request. </p>
<p>An informational object should be created and assigned to <a class="el" href="../../dd/da4/classBESDataHandlerInterface.html#ae8bedcac116b75e5364951197cf3174a" title="error information object ">BESDataHandlerInterface.error_info</a> variable.</p>
<p>The manager first determines if a registered exception handler can handle the exception. First one to handle the exception wins. 0 is returned from the registered handler if it cannot handle the exception.</p>
<p>If no registered handlers can handle the exception then the default is to create an informational object (<a class="el" href="../../d8/d47/classBESInfo.html" title="informational response object ">BESInfo</a> instance) and the exception information stored there.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">e</td><td>exception to be managed </td></tr>
    <tr><td class="paramname">dhi</td><td>information related to request and response </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status after exception is handled </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d7/dbd/classBESError.html" title="Abstract exception class for the BES with basic string message. ">BESError</a> </dd>
<dd>
<a class="el" href="../../d8/d47/classBESInfo.html" title="informational response object ">BESInfo</a> </dd></dl>

<p>Definition at line <a class="el" href="../../d2/d20/BESExceptionManager_8cc_source.html#l00168">168</a> of file <a class="el" href="../../d2/d20/BESExceptionManager_8cc_source.html">BESExceptionManager.cc</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="../../da/dbd/BESExceptionManager_8h_source.html">BESExceptionManager.h</a></li>
<li><a class="el" href="../../d2/d20/BESExceptionManager_8cc_source.html">BESExceptionManager.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d6/da9/classBESExceptionManager.html">BESExceptionManager</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
